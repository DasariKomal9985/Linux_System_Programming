â­ 1. What is a Message Queue?

A message queue is an IPC mechanism where processes communicate by sending discrete messages, not streams.

Meaning:

âœ” You send messages as packets
âœ” No mixing of data
âœ” Messages arrive in predictable order (FIFO or priority order)
âœ” Used for structured IPC

Unlike pipes:

Pipes = stream of bytes

Message Queue = messages with boundaries




â­ 2. Why Message Queue?

Because message queue supports:

âœ” Multiple messages
âœ” Variable-size messages
âœ” Priority messages
âœ” Multiple senders, multiple receivers
âœ” Safe communication
âœ” Queue preserved even if both processes die (System V)

Message Queues are used in:
RTOS
Robotics
Embedded systems
Servers
Inter-process event notifications



â­ 3. Types of Message Queues


ğŸ”µ System V Message Queues
(older, heavy-weight, persistent until removed)

ğŸ”µ POSIX Message Queues
(newer, cleaner API, recommended)



â­ 4. SYSTEM V MESSAGE QUEUES

#include <sys/ipc.h>
#include <sys/msg.h>


| Function   | Use                            |
| ---------- | ------------------------------ |
| `msgget()` | Create or access message queue |
| `msgsnd()` | Send message                   |
| `msgrcv()` | Receive message                |
| `msgctl()` | Control/delete                 |




struct msgbuf {
    long mtype;       // message type (must be > 0)
    char mtext[100];  // actual data
};



